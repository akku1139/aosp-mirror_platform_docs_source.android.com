{
  "comments": [
    {
      "key": {
        "uuid": "d0d43e30_b8eea333",
        "filename": "src/devices/camera/images/ape_fwk_camera.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-24T19:13:14Z",
      "side": 1,
      "message": "There\u0027s an arrow missing from \u0027Camera Base\u0027 to \u0027ICameraService\u0027.\n\nAlso, the text for this figure is a bit misleading now - it says \"and where to find the source for each\" which isn\u0027t really encoded in the diagram. Would probably get too busy to put it in - it\u0027d look more like https://docs.google.com/drawings/d/19kYaYuuwtudCbkxUGwM6LdiIiz68f5chq3Vts1lt9qA/edit then.\n\nSo I\u0027d probably remove that bit of text, or we need to add more stuff to the diagram somehow.",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10a416b9_e010ae86",
        "filename": "src/devices/camera/images/ape_fwk_camera.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1060384
      },
      "writtenOn": "2015-04-24T20:24:27Z",
      "side": 1,
      "message": "Added the missing arrow, and I\u0027ll update the text so it doesn\u0027t refer to \"finding the source\". The diagram you link to frightens me :) But if you think that information is valuable I can try to work up a separate image for that content.",
      "parentUuid": "d0d43e30_b8eea333",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0d43e30_6be03014",
        "filename": "src/devices/camera/images/ape_fwk_camera.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-24T20:39:52Z",
      "side": 1,
      "message": "I think we can leave off the source locations for now. It\u0027s not hard to find given the names in the diagram.",
      "parentUuid": "10a416b9_e010ae86",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10a416b9_b528a605",
        "filename": "src/devices/camera/images/camera-hal-overview.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-24T19:13:14Z",
      "side": 1,
      "message": "This matches the source diagram, but if possible, could we update it slightly, to account for changes we made to the HAL design since the source diagram was made?\nBasically, the \u0027empty buffers\u0027 lines should go to the same place as \u0027One request per capture\u0027 - we now give the HAL a single bundle of the request and the empty buffers to fill all up front.\nThe \u0027filled buffers\u0027 lines and everything else is fine.",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_8cdddae4",
        "filename": "src/devices/camera/images/camera-hal-overview.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1060384
      },
      "writtenOn": "2015-04-27T18:07:40Z",
      "side": 1,
      "message": "I\u0027m not quite sure how this should look -- do you mean all empty buffer lines? point to which \"one capture for request\" Just the input?",
      "parentUuid": "10a416b9_b528a605",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0d99e70_580fb233",
        "filename": "src/devices/camera/images/camera-hal-overview.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-27T18:13:02Z",
      "side": 1,
      "message": "All the \u0027empty\u0027 buffer lines should go to the \u0027configuration\u0027 box, same as the \u0027one request per capture\u0027 and \u0027one input buffer\u0027 lines.  Nothing else needs to change.",
      "parentUuid": "b0d42a38_8cdddae4",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_0cd32a8c",
        "filename": "src/devices/camera/images/camera-hal-overview.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1060384
      },
      "writtenOn": "2015-04-27T19:12:35Z",
      "side": 1,
      "message": "Ok, i\u0027ll need to rework the entire image since that change introduces a line cross. I\u0027ll see what I can do.",
      "parentUuid": "d0d99e70_580fb233",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "309d9a70_c1ead772",
        "filename": "src/devices/camera/images/camera_model.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-24T19:13:14Z",
      "side": 1,
      "message": "Unfortunately, the source diagram is a bit out of date here.  I\u0027m very sorry for not thinking of that sooner.\n\nIn the final API reviews for the camera2 API, the CameraDevice block was split into two (CameraDevice and CameraCaptureSession), http://developer.android.com/reference/android/hardware/camera2/CameraCaptureSession.html.   \n\nBasically, the changes required would be:\n\n- configureOutputs is replaced with createCaptureSession, which (analogous to openCamera providing a CameraDevice) provides a CameraCaptureSession. Still take as a list of Surfaces as input.\n\n- all CameraDevice methods besides createCaptureRequest and createCaptureSession move to CameraCaptureSession.\n\n- There are some additional methods in CameraCaptureSession, but I don\u0027t think they\u0027re essential to represent here.\n\n- CameraProperties was renamed to CameraCharacteristics, and getCameraProperties() to getCameraCharacteristics().\n\n- CameraManager.getDeviceIdList() was renamed to getCameraIdList().\n\n- CameraManager.CameraListener was renamed to CameraManager.AvailabilityCallback.\n\n- CameraDevice.CaptureListener was renamed to CameraCaptureSession.CaptureCallback.\n\nOther minor stuff to fix:\n\n- The new version of the diagram renames \u0027Repeating Request List\u0027 to \u0027Pending Request List\u0027. It\u0027d be good to keep the original name to better highlight the difference between repeating requests and non-repeating ones.",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "309d9a70_5c16cefc",
        "filename": "src/devices/camera/images/camera_model.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1060384
      },
      "writtenOn": "2015-04-24T20:24:27Z",
      "side": 1,
      "message": "Does CameraCaptureSession still input to CONFIGURED OUTPUTS? If not, does anything input to OUTPUTs?",
      "parentUuid": "309d9a70_c1ead772",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10a416b9_1bea83a2",
        "filename": "src/devices/camera/images/camera_model.png",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1010050
      },
      "writtenOn": "2015-04-24T20:39:52Z",
      "side": 1,
      "message": "createCaptureSession should still input to CONFIGURED OUTPUTS, I think. So it gets the List\u003cSurface\u003e in, and outputs to a CameraCaptureSession box (below?) and to CONFIGURED_OUTPUTS (to the right?)",
      "parentUuid": "309d9a70_5c16cefc",
      "revId": "4e4579caba159302c5ae33e0bae7c1a6dc0b2879",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}