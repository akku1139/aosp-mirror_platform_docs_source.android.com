<html devsite>
  <head>
    <title>Multi-Zone Audio</title>
    <meta name="project_path" value="/_project.yaml" />
    <meta name="book_path" value="/_book.yaml" />
  </head>
  <body>
{% include "_versions.html" %}

  <!--
      Copyright 2019 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>To learn more about the use of multi-zone audio in automotive rear-seat entertainment systems,
see <a href="/devices/automotive/audio/multi-zone">Multi-Zone Audio</a>.</p>

<p>Device manufacturers can link a display to an audio zone in a vehicle. For instance, for a car
with one primary and rear seat entertainment zone, a device manufacturer can have the following
configuration on the vendor partition:</p>

<table>
<tbody>
<tr>
<td><pre class="prettyprint">
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;carAudioConfigurations xmlns:car="http://schemas.android.com/apk/res-auto"&gt;
    &lt;zones&gt;
        &lt;zone name="primary zone"&gt;
            &lt;volumeGroups&gt;
                &lt;group&gt;
                    &lt;device address="bus001_media"&gt;
                        &lt;context context="music"/&gt;
                    &lt;/device&gt;
                    &lt;device address="bus002_others"&gt;
                    ...
                    &lt;/device&gt;
                &lt;/group&gt;
            &lt;/volumeGroups&gt;
            &lt;displays&gt;
                &lt;display car:display="&lt;display-id-1&gt;" /&gt;
            &lt;/displays&gt;
        &lt;/zone&gt;
        &lt;zone name="rear seat"&gt;
            &lt;volumeGroups&gt;
                &lt;group&gt;
                    &lt;device address="bus100_all"&gt;
                    ...
                    &lt;/device&gt;
                &lt;/group&gt;
            &lt;/volumeGroups&gt;
            &lt;displays&gt;
                &lt;display car:display="&lt;display-id-2&gt;" /&gt;
            &lt;/displays&gt;
        &lt;/zone&gt;
    &lt;/zones&gt;
&lt;/carAudioConfigurations&gt;
&lt;/xml&gt;
</pre>
</td>
</tr>
</tbody>
</table>

<p><code>CarAudioService</code> parses this configuration file and sets up the
audio routing by its audio context (or audio usage) at boot time. During
runtime, <code>CarAudioService</code> further detects an app launch event and dynamically
assigns the app to the zone based on UID.</p>

<h2 id="implementation">Implementation</h2>

<p>For the stable ID that device manufacturers can include in their configuration
file, see
<a href="/devices/tech/display/multi_display/displays#static">Static display identifiers</a>.</p>


  </body>
</html>
