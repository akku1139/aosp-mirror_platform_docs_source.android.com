<html devsite>
  <head>
    <title>Testing and Development Environment</title>
    <meta name="project_path" value="/_project.yaml" />
    <meta name="book_path" value="/_book.yaml" />
  </head>
  <body>
{% include "_versions.html" %}

  <!--
      Copyright 2019 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>The fastest and easiest way to test secondary displays is to use a simulated
display, which is owned by the system. Because it shares the <code>system_server</code>
UID, it's trusted and allowed to host all decor windows and activities.</p>

<p>If you have a device that supports a hardware connection (for example, HDMI
or DisplayPort over USB-C), you can use external hardware displays to test.</p>

<p>By default, virtual displays that aren't owned by the system UID are considered
to be <em>not trusted</em> and a number of restrictions are applied to prevent the
leaking of user data.</p>

<p>Use desktop mode to test new windowing features and capabilities added to
the platform in Android {{ androidQVersionNumber }}. It's a developer option
targeted for app developers and enables developers to test apps in
  multi-display and freeform windowing mode environments.</p>

<p><img src="/devices/tech/display/images/multi_display_11a.png"></p>

<p><img src="/devices/tech/display/images/multi_display_11b.png"></p>

<p><strong>Figure 1.</strong> Desktop mode on two displays, simulated (top) and
  external (bottom)</p>

<p>When device manufacturers want to provide a desktop-like experience, use this
feature to showcase the recommended way to implement some of the windowing features.</p>

<ol>
<li>Enable the <strong>Force desktop mode</strong> developer option.</li>
<li>Reboot the phone.</li>
<li>Connect the mouse (via USB or Bluetooth).</li>
<li>Create a simulated display from the developer options or use a hardware
display.</li>
<li>Launch activities from the launcher on that display and use the mouse to interact.</li>
</ol>

<p>MD Launcher (<code>platform/development/samples/MultiDisplay</code>) is useful
for testing a targeted activity launch and to request a new instance.</p>


  </body>
</html>
