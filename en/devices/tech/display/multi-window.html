<html devsite>
  <head>
    <title>Supporting Multi-Window</title>
    <meta name="project_path" value="/_project.yaml" />
    <meta name="book_path" value="/_book.yaml" />
  </head>
  {% include "_versions.html" %}
  <body>
  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->
    <p>
      In Android 7.0 and higher, devices can display multiple apps
      simultaneously using multi-window. Android supports three
      multi-window configurations:
    </p>
    <ul>
      <li>
        <strong>Split-screen</strong> is the default multi-window
        implementation, which provides two activity panes where users can place
        apps.
      </li>
      <li>
        <strong>Freeform</strong> allows users to dynamically resize the
        activity panes and have more than two apps visible on their screen.
      </li>
      <li>
        <strong>Picture-in-picture (PIP)</strong> allows Android devices to
        play video content in a small window while the user interacts with
        other apps.
      </li>
    </ul>

    <h2 id="implementation">Implementation</h2>
    <p>
      Multi-window support is enabled by default in Android 7.0 and higher.
      To disable it, set the <code>config_supportsMultiWindow</code> flag to
      <code>false</code> in your device's
      <a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/values/config.xml"
         class="external">config.xml</a> file.
    </p>
    <p>
      Multi-window is disabled by default on all low-RAM devices (devices that
      declare <code>ActivityManager.isLowRam()</code>). Low-RAM devices
      ignore the value of the <code>config_supportsMultiWindow</code> flag.
    </p>

    <h3 id="split-screen">Split-screen</h3>
    <p>
      Multi-window's default experience is split-screen mode, where the System
      UI is divided down the middle of the device in portrait or landscape.
      Users can resize the window by dragging the dividing line side to side
      or top to bottom, depending on the device orientation.
    </p>
    <p>
      After enabling split-screen, device manufacturers can choose to enable
      freeform or PIP.
    </p>
    <p>
      Android 8.0 and higher improves split-screen by compressing the launcher
      when the user taps <strong>Home</strong>. For implementation details, see
      <a href="/devices/tech/display/split-screen">Split-screen Interactions</a>.
    </p>

    <h3 id="freeform">Freeform</h3>
    <p>
      After enabling multi-window mode with the
      <code>config_supportsMultiWindow</code> flag, device manufacturers can
      allow freeform windowing. This mode is most useful on larger devices,
      such as tablets.
    </p>
    <p>
      To support freeform mode, enable the
      <code>PackageManager#FEATURE_FREEFORM_WINDOW_MANAGEMENT</code> system
      feature in
      <code><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/content/pm/PackageManager.java"
               class="external">/android/frameworks/base/core/java/android/content/pm/PackageManager.java</a></code>
      and set <code>config_freeformWindowManagement</code> to <code>true</code> in
      <code><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/res/res/values/config.xml"
               class="external">config.xml</a>.</code>
    </p>
    <pre class="devsite-click-to-copy">
    &lt;bool name="config_freeformWindowManagement"&gt;true&lt;/bool&gt;
    </pre>

    <h3 id="picture-in-picture">Picture-in-picture</h3>
    <p>
      After enabling multi-window mode with the
      <code>config_supportsMultiWindow</code> flag, device manufacturers can
      support
      <a href="https://developer.android.com/training/tv/playback/picture-in-picture.html"
         class="external">picture-in-picture</a>, which allows users to watch
      video while browsing other activities. While this feature is targeted at
      Android Television devices, other device types may support this feature.
    </p>
    <p>
      To support PIP, enable the
      <code>PackageManager#FEATURE_PICTURE_IN_PICTURE</code> system feature in
      <code><a href="https://android.googlesource.com/platform/frameworks/base/+/master/core/java/android/content/pm/PackageManager.java"
               class="external">/android/frameworks/base/core/java/android/content/pm/PackageManager.java</a></code>.
    </p>
    <p>
      For more PIP implementation details for devices running Android 8.0 and
      higher,see the <a href="/devices/tech/display/pip">Picture-in-picture</a>
      page.
    </p>

    <h3 id="system-ui">System UI</h3>
    <p>
      Support all standard System UIs according to
      <a href="https://developer.android.com/guide/topics/ui/multi-window.html#testing"
         class="external">Multi-window developer documentation</a>.
    </p>

    <h3 id="apps">Apps</h3>
    <p>
      To support multi-window mode for preloaded apps, consult the
      <a href="https://developer.android.com/guide/topics/ui/multi-window.html"
         class="external">Android developer documentation</a>.
    </p>

    <h2 id="validation">Validation</h2>
    <p>
      To validate your implementation of multi-window, run the related CTS
      tests and follow the
      <a href="https://developer.android.com/guide/topics/ui/multi-window.html#testing"
         class="external">testing instructions for multi-window</a>.
    </p>
    <p>
      For Android 7.0, the tests are in
      <code><a href="https://android.googlesource.com/platform/cts/+/refs/heads/nougat-cts-release/hostsidetests/services/activitymanager/src/android/server/cts"
               class="eternal">/platform/cts/hostsidetests/services/activitymanager/src/android/server/cts</a></code>.
      In Android 8.0 and higher, the tests are in
      <code><a href="https://android.googlesource.com/platform/cts/+/refs/heads/master/tests/framework/base/activitymanager/src/android/server/am"
               class ="external">/platform/cts/tests/framework/base/activitymanager/src/android/server/am</a></code>.
    </p>
  </body>
</html>
