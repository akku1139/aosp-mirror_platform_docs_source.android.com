<html devsite>
  <head>
    <title>Protected Confirmation</title>
    <meta name="project_path" value="/_project.yaml" />
    <meta name="book_path" value="/_book.yaml" />
  </head>
{% include "_versions.html" %}
  <body>
  <!--
      Copyright 2019 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->
<img src="/security/images/androidProtectedConfirmationOverview.png"
     class="attempt-right" />

<p>Android Protected Confirmation leverages a hardware-protected user interface
called <strong>Trusted UI</strong> to facilitate high assurance to critical
transactions. Android Protected Confirmation is available to supported devices
running Android {{ androidPVersionNumber }} (API level 28) or higher.</p>

<p>When an app invokes Protected Confirmation, Trusted UI queries the user for
confirmation. The Trusted UI asserts the userâ€™s approval of the prompted message
with a high degree of confidence even if Android or its kernel (Linux) have been
compromised. Together with Keymaster, this assertion is then conveyed to a
remote party.</p>

<p>Developers can view the Android Protected Confirmation developer
documentation at <a
href="https://developer.android.com/training/articles/security-android-protected-confirmation">developer.android.com</a>.</p>


<h2 id="scope">Scope</h2>
<p>The implementation of Android Protected Confirmation can be split into two
parts, both residing in the trusted execution environment (TEE). One part is an
extension to <a
href="https://source.android.com/security/keystore">Keymaster</a>. It allows
the generation of keys with the usage requirement <code><a
href="https://source.android.google.cn/reference/hidl/android/hardware/keymaster/4.0/types#tag">Tag::TRUSTED_CONFIRMATION_REQUIRED</code></a>.
The second part is an app called <strong>ConfirmationUI</strong>, which
generates confirmation tokens. These tokens are cryptographic statements and
convey to Keymaster when the user confirms a given message. This document
describes the implementation of ConfirmationUI and the confirmation statements
to Keymaster.</p>

  </body>
</html>
