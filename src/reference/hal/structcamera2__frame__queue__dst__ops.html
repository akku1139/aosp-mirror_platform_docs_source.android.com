<!DOCTYPE html>
<html devsite>
<head>
  <title>Android Hardware Abstraction Layer: camera2_frame_queue_dst_ops Struct Reference</title>
  <meta name="project_path" value="/_project.yaml" />
  <meta name="book_path" value="/_book.yaml" />
  <meta name="hide_page_heading" value="true" />
</head>
<body>
  <div id="top"><!-- do not remove this div --></div>
  <h1><div class="title">camera2_frame_queue_dst_ops Struct Reference</div></h1>

<div id="doc-content">
<div class="header">
 <div class="summary">
  <a href="#pub-attribs">
   Data Fields
  </a>
 </div>
 <div class="headertitle">
  <div class="title">
   camera2_frame_queue_dst_ops Struct Reference
  </div>
 </div>
</div>
<!--header-->
<div class="contents">
 <p>
  <code>
   #include &lt;
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
    camera2.h
   </a>
   &gt;
  </code>
 </p>
 <table class="memberdecls">
  <tr class="heading">
   <td colspan="2">
    <h2 class="groupheader">
     <a name="pub-attribs">
     </a>
     Data Fields
    </h2>
   </td>
  </tr>
  <tr class="memitem:a878d3091ff5be219e3812242928a28ea">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structcamera2__frame__queue__dst__ops.html#a878d3091ff5be219e3812242928a28ea">
     dequeue_frame
    </a>
    )(const struct
    <a class="el" href="structcamera2__frame__queue__dst__ops.html">
     camera2_frame_queue_dst_ops
    </a>
    *q, size_t entries, size_t data_bytes,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
     camera_metadata_t
    </a>
    **buffer)
   </td>
  </tr>
  <tr class="separator:a878d3091ff5be219e3812242928a28ea">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a742d35d2b70e74c60e430ca9b08ae7b4">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structcamera2__frame__queue__dst__ops.html#a742d35d2b70e74c60e430ca9b08ae7b4">
     cancel_frame
    </a>
    )(const struct
    <a class="el" href="structcamera2__frame__queue__dst__ops.html">
     camera2_frame_queue_dst_ops
    </a>
    *q,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
     camera_metadata_t
    </a>
    *buffer)
   </td>
  </tr>
  <tr class="separator:a742d35d2b70e74c60e430ca9b08ae7b4">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a75baa7e999cc35f9908638c582833fc2">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structcamera2__frame__queue__dst__ops.html#a75baa7e999cc35f9908638c582833fc2">
     enqueue_frame
    </a>
    )(const struct
    <a class="el" href="structcamera2__frame__queue__dst__ops.html">
     camera2_frame_queue_dst_ops
    </a>
    *q,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
     camera_metadata_t
    </a>
    *buffer)
   </td>
  </tr>
  <tr class="separator:a75baa7e999cc35f9908638c582833fc2">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
 </table>
 <a name="details" id="details">
 </a>
 <h2 class="groupheader">
  Detailed Description
 </h2>
 <div class="textblock">
  <p>
   Frame output queue protocol:
  </p>
  <p>
   The framework holds the queue and its contents. At start, the queue is empty.
  </p>
  <ol type="1">
   <li>
    When the device is ready to fill an output metadata frame, it must dequeue a metadata buffer of the required size.
   </li>
   <li>
    It should then fill the metadata buffer, and place it on the frame queue using enqueue_frame. The framework takes ownership of the frame.
   </li>
   <li>
    In case of an error, a request to flush the pipeline, or shutdown, the device must return any affected dequeued frames to the framework by calling cancel_frame.
   </li>
  </ol>
  <p>
   Definition at line
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
    263
   </a>
   of file
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
    camera2.h
   </a>
   .
  </p>
 </div>
 <h2 class="groupheader">
  Field Documentation
 </h2>
 <a class="anchor" id="a742d35d2b70e74c60e430ca9b08ae7b4">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* cancel_frame)(const struct
      <a class="el" href="structcamera2__frame__queue__dst__ops.html">
       camera2_frame_queue_dst_ops
      </a>
      *q,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
       camera_metadata_t
      </a>
      *buffer)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return a dequeued metadata buffer to the framework for reuse; do not mark it as filled. Use when encountering errors, or flushing the internal request queue.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     278
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     camera2.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a878d3091ff5be219e3812242928a28ea">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* dequeue_frame)(const struct
      <a class="el" href="structcamera2__frame__queue__dst__ops.html">
       camera2_frame_queue_dst_ops
      </a>
      *q, size_t entries, size_t data_bytes,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
       camera_metadata_t
      </a>
      **buffer)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Get an empty metadata buffer to fill from the framework. The new metadata buffer will have room for entries number of metadata entries, plus data_bytes worth of extra storage. Frames dequeued here must be returned to the framework with either cancel_frame or enqueue_frame.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     270
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     camera2.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a75baa7e999cc35f9908638c582833fc2">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* enqueue_frame)(const struct
      <a class="el" href="structcamera2__frame__queue__dst__ops.html">
       camera2_frame_queue_dst_ops
      </a>
      *q,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera_common.h">
       camera_metadata_t
      </a>
      *buffer)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Place a completed metadata frame on the frame output queue.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     284
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
     camera2.h
    </a>
    .
   </p>
  </div>
 </div>
 <hr />
 The documentation for this struct was generated from the following file:
 <ul>
  <li>
   hardware/libhardware/include/hardware/
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/camera2.h">
    camera2.h
   </a>
  </li>
 </ul>
</div>
<!-- contents -->
</div>

</body>
</html>
