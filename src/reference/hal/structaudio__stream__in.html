<!DOCTYPE html>
<html devsite>
<head>
  <title>Android Hardware Abstraction Layer: audio_stream_in Struct Reference</title>
  <meta name="project_path" value="/_project.yaml" />
  <meta name="book_path" value="/_book.yaml" />
  <meta name="hide_page_heading" value="true" />
</head>
<body>
  <div id="top"><!-- do not remove this div --></div>
  <h1><div class="title">audio_stream_in Struct Reference</div></h1>

<div id="doc-content">
<div class="header">
 <div class="summary">
  <a href="#pub-attribs">
   Data Fields
  </a>
 </div>
 <div class="headertitle">
  <div class="title">
   audio_stream_in Struct Reference
  </div>
 </div>
</div>
<!--header-->
<div class="contents">
 <p>
  <code>
   #include &lt;
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
   &gt;
  </code>
 </p>
 <table class="memberdecls">
  <tr class="heading">
   <td colspan="2">
    <h2 class="groupheader">
     <a name="pub-attribs">
     </a>
     Data Fields
    </h2>
   </td>
  </tr>
  <tr class="memitem:a9975d0888d3a4eecf4f0144ea954a80f">
   <td class="memItemLeft" align="right" valign="top">
    struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    &#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream__in.html#a9975d0888d3a4eecf4f0144ea954a80f">
     common
    </a>
   </td>
  </tr>
  <tr class="separator:a9975d0888d3a4eecf4f0144ea954a80f">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a928a709953a9cf43e9594699946d968b">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream__in.html#a928a709953a9cf43e9594699946d968b">
     set_gain
    </a>
    )(struct
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    *stream, float gain)
   </td>
  </tr>
  <tr class="separator:a928a709953a9cf43e9594699946d968b">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ae29cb94a8369b1b06cdfc51b3ef3d61d">
   <td class="memItemLeft" align="right" valign="top">
    ssize_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream__in.html#ae29cb94a8369b1b06cdfc51b3ef3d61d">
     read
    </a>
    )(struct
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    *stream, void *buffer, size_t bytes)
   </td>
  </tr>
  <tr class="separator:ae29cb94a8369b1b06cdfc51b3ef3d61d">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ac35c041acf754e3ec3e83763080e8209">
   <td class="memItemLeft" align="right" valign="top">
    uint32_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream__in.html#ac35c041acf754e3ec3e83763080e8209">
     get_input_frames_lost
    </a>
    )(struct
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:ac35c041acf754e3ec3e83763080e8209">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a7049256b82aad74e1dc976a3d5406985">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream__in.html#a7049256b82aad74e1dc976a3d5406985">
     get_capture_position
    </a>
    )(const struct
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    *stream, int64_t *frames, int64_t *time)
   </td>
  </tr>
  <tr class="separator:a7049256b82aad74e1dc976a3d5406985">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
 </table>
 <a name="details" id="details">
 </a>
 <h2 class="groupheader">
  Detailed Description
 </h2>
 <div class="textblock">
  <p>
   Definition at line
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    404
   </a>
   of file
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
   .
  </p>
 </div>
 <h2 class="groupheader">
  Field Documentation
 </h2>
 <a class="anchor" id="a9975d0888d3a4eecf4f0144ea954a80f">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      common
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Common methods of the audio stream in. This
    <em>
     must
    </em>
    be the first member of
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    as users of this structure will cast a
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    to
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    pointer in contexts where it's known the
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    references an
    <a class="el" href="structaudio__stream__in.html">
     audio_stream_in
    </a>
    .
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     410
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a7049256b82aad74e1dc976a3d5406985">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* get_capture_position)(const struct
      <a class="el" href="structaudio__stream__in.html">
       audio_stream_in
      </a>
      *stream, int64_t *frames, int64_t *time)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return a recent count of the number of audio frames received and the clock time associated with that frame count.
   </p>
   <p>
    frames is the total frame count received. This should be as early in the capture pipeline as possible. In general, frames should be non-negative and should not go "backwards".
   </p>
   <p>
    time is the clock MONOTONIC time when frames was measured. In general, time should be a positive quantity and should not go "backwards".
   </p>
   <p>
    The status returned is 0 on success, -ENOSYS if the device is not ready/available, or -EINVAL if the arguments are null or otherwise invalid.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     449
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ac35c041acf754e3ec3e83763080e8209">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      uint32_t(* get_input_frames_lost)(struct
      <a class="el" href="structaudio__stream__in.html">
       audio_stream_in
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return the amount of input frames lost in the audio driver since the last call of this function. Audio driver is expected to reset the value to 0 and restart counting upon returning the current value by this function call. Such loss typically occurs when the user space process is blocked longer than the capacity of audio driver buffers.
   </p>
   <p>
    Unit: the number of input audio frames
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     433
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ae29cb94a8369b1b06cdfc51b3ef3d61d">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      ssize_t(* read)(struct
      <a class="el" href="structaudio__stream__in.html">
       audio_stream_in
      </a>
      *stream, void *buffer, size_t bytes)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Read audio buffer in from audio driver. Returns number of bytes read, or a negative status_t. If at least one frame was read prior to the error, read should return that byte count and then return an error in the subsequent call.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     420
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a928a709953a9cf43e9594699946d968b">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set_gain)(struct
      <a class="el" href="structaudio__stream__in.html">
       audio_stream_in
      </a>
      *stream, float gain)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    set the input gain for the audio driver. This method is for for future use
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     414
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <hr />
 The documentation for this struct was generated from the following file:
 <ul>
  <li>
   hardware/libhardware/include/hardware/
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
  </li>
 </ul>
</div>
<!-- contents -->
</div>

</body>
</html>
