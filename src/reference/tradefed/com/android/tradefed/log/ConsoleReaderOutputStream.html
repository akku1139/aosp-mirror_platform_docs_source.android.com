







































<!-- ################        DO NOT EDIT THIS FILE.          ################# -->
<!-- ################                                        ################# -->
<!-- ################          IT IS GENERATED.              ################# -->
<!-- ################                                        ################# -->
<!-- ################   INSTEAD EDIT THE JAVADOC COMMENTS.   ################# -->

<!DOCTYPE html>
<html devsite>
<head>
  <title>ConsoleReaderOutputStream</title>
  <meta name="top_category" value="develop" />
  <meta name="subcategory" value="reference" />
  <meta name="book_path" value="/_book.yaml" />
  <meta name="project_path" value="/_project.yaml" />
  <meta name="body_class" value="api apilevel-" />
  <meta name="hide_page_heading" value="true" />


<link rel="stylesheet" href="/reference/assets/css/doclava-devsite.css">
</head>

<body class="gc-documentation develop reference api apilevel-">





<div class="api apilevel-" id="jd-content">

<!-- ======== START OF CLASS DATA ======== -->

<h1 class="api-title">ConsoleReaderOutputStream</h1>
<p>
<code class="api-signature">
  public
  
  
  
  class
  ConsoleReaderOutputStream
</code>
<br>


<code class="api-signature">
  
  
  
</code>

<code class="api-signature">
  
    extends OutputStream
  
  
  
</code>

<code class="api-signature">
  
  
  
</code>

</p><table class="jd-inheritance-table">


  <tr>
    
    <td colspan="3" class="jd-inheritance-class-cell">java.lang.Object
    </td>
  </tr>
  

  <tr>
    
      <td class="jd-inheritance-space">&nbsp;&nbsp;&nbsp;&#x21b3;</td>
    
    <td colspan="2" class="jd-inheritance-class-cell">java.io.OutputStream
    </td>
  </tr>
  

  <tr>
    
      <td class="jd-inheritance-space">&nbsp;</td>
    
      <td class="jd-inheritance-space">&nbsp;&nbsp;&nbsp;&#x21b3;</td>
    
    <td colspan="1" class="jd-inheritance-class-cell">com.android.tradefed.log.ConsoleReaderOutputStream
    </td>
  </tr>
  

</table>
  

    

<br><hr>


  <p>An OutputStream that can be used to make <code>System.out.print()</code> play nice with the user's
 <code><a href="../../../../../../reference/tradefed/jline/ConsoleReader.html">ConsoleReader</a></code> buffer.
 <p />
 In trivial performance tests, this class did not have a measurable performance impact.
</p>







<h2 class="api-section">Summary</h2>























<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<table id="pubctors" class="responsive constructors">
<tr><th colspan="2"><h3>Public constructors</h3></th></tr>



  
  <tr class="api apilevel-" >
  
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#ConsoleReaderOutputStream(jline.ConsoleReader)">ConsoleReaderOutputStream</a>(ConsoleReader reader)
      </code>
      
    </td>
  </tr>
  


</table>






<!-- ========== METHOD SUMMARY =========== -->
<table id="pubmethods" class="responsive methods">
<tr><th colspan="2"><h3>Public methods</h3></th></tr>



  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        void</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#flush()">flush</a>()
      </code>
      
        <p>

        
    
</p>
      
    </td>
  </tr>
  

  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        ConsoleReader</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#getConsoleReader()">getConsoleReader</a>()
      </code>
      
        <p>Get the ConsoleReader instance that we're using internally

        
    
</p>
      
    </td>
  </tr>
  

  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        void</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#setAsyncMode()">setAsyncMode</a>()
      </code>
      
        <p>Set asynchronous mode.
        
    
</p>
      
    </td>
  </tr>
  

  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        void</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#setSyncMode()">setSyncMode</a>()
      </code>
      
        <p>Set synchronous mode.
        
    
</p>
      
    </td>
  </tr>
  

  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        void</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#write(byte[], int, int)">write</a>(byte[] b, int off, int len)
      </code>
      
        <p>A special implementation to keep the user's command buffer visible when asynchronous tasks
 write to stdout.
        
    
</p>
      
    </td>
  </tr>
  

  
  <tr class="api apilevel-" >
  
  
    <td><code>
        
        
        
        
        
        void</code>
    </td>
  
    <td width="100%">
      <code>
      <a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html#write(int)">write</a>(int b)
      </code>
      
    </td>
  </tr>
  


</table>








<!-- XML Attributes -->


<!-- Enum Values -->


<!-- Constants -->


<!-- Fields -->


<!-- Public ctors -->


<!-- ========= CONSTRUCTOR DETAIL ======== -->
<h2 class="api-section">Public constructors</h2>



<A NAME="ConsoleReaderOutputStream(jline.ConsoleReader)"></A>

<div class="api apilevel-">
    <h3 class="api-name">ConsoleReaderOutputStream</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
ConsoleReaderOutputStream (ConsoleReader reader)</pre>
    
    

    
  <p></p>
    <table class="responsive">
    <tr><th colspan=2>Parameters</th></tr>
      <tr>
        <td><code>reader</code></td>
        <td width="100%">
          <code>ConsoleReader</code>
          <!-- no parameter comment --></td>
      </tr>
    </table>

</div>





<!-- ========= CONSTRUCTOR DETAIL ======== -->
<!-- Protected ctors -->



<!-- ========= METHOD DETAIL ======== -->
<!-- Public methdos -->

<h2 class="api-section">Public methods</h2>



<A NAME="flush()"></A>

<div class="api apilevel-">
    <h3 class="api-name">flush</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
void flush ()</pre>
    
    

    
  <p>
</p>

</div>


<A NAME="getConsoleReader()"></A>

<div class="api apilevel-">
    <h3 class="api-name">getConsoleReader</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
ConsoleReader getConsoleReader ()</pre>
    
    

    
  <p>Get the ConsoleReader instance that we're using internally
</p>
    <table class="responsive">
      <tr><th colspan=2>Returns</th></tr>
      <tr>
        <td><code>ConsoleReader</code></td>
        <td width="100%"><!-- no returns description in source --></td>
      </tr>
    </table>

</div>


<A NAME="setAsyncMode()"></A>

<div class="api apilevel-">
    <h3 class="api-name">setAsyncMode</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
void setAsyncMode ()</pre>
    
    

    
  <p>Set asynchronous mode.  This occurs immediately after we display the command prompt and begin
 waiting for user input.  In this mode, the most recent line on the screen is guaranteed to be
 the command prompt.  In particular, asynchronous tasks may attempt to print to the screen,
 and we will shuffle the prompt when they do so.
</p>

</div>


<A NAME="setSyncMode()"></A>

<div class="api apilevel-">
    <h3 class="api-name">setSyncMode</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
void setSyncMode ()</pre>
    
    

    
  <p>Set synchronous mode.  This occurs after the user has taken some action, such that the most
 recent line on the screen is guaranteed to _not_ be the command prompt.  In this case, we
 disable the prompt-shuffling behavior (which requires that the most recent line on the screen
 be the prompt)
</p>

</div>


<A NAME="write(byte[], int, int)"></A>

<div class="api apilevel-">
    <h3 class="api-name">write</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
void write (byte[] b, 
                int off, 
                int len)</pre>
    
    

    
  <p>A special implementation to keep the user's command buffer visible when asynchronous tasks
 write to stdout.
 <p />
 If a full-line write is detected (one that terminates with "\n"), we:
 <ol>
   <li>Clear the current line (which will contain the prompt and the user's buffer</li>
   <li>Print the full line(s), which will drop us on a new line</li>
   <li>Redraw the prompt and the user's buffer</li>
 </ol>
 <p />
 By doing so, we never skip any asynchronously-logged output, but we still keep the prompt and
 the user's buffer as the last items on the screen.
 <p />
 FIXME: We should probably buffer output and only write full lines to the console.
</p>
    <table class="responsive">
    <tr><th colspan=2>Parameters</th></tr>
      <tr>
        <td><code>b</code></td>
        <td width="100%">
          <code>byte</code>
          <!-- no parameter comment --></td>
      </tr>
      <tr>
        <td><code>off</code></td>
        <td width="100%">
          <code>int</code>
          <!-- no parameter comment --></td>
      </tr>
      <tr>
        <td><code>len</code></td>
        <td width="100%">
          <code>int</code>
          <!-- no parameter comment --></td>
      </tr>
    </table>
      <table class="responsive">
      <tr><th colspan=2>Throws</th></tr>
        <tr>
          <td><code>IOException</code></td>
          <td width="100%"></td>
        </tr>
      </table>
  

</div>


<A NAME="write(int)"></A>

<div class="api apilevel-">
    <h3 class="api-name">write</h3>
    <div class="api-level">
      <div></div>
      
  

    </div>
<pre class="api-signature no-pretty-print">
void write (int b)</pre>
    
    

    
  <p></p>
    <table class="responsive">
    <tr><th colspan=2>Parameters</th></tr>
      <tr>
        <td><code>b</code></td>
        <td width="100%">
          <code>int</code>
          <!-- no parameter comment --></td>
      </tr>
    </table>
      <table class="responsive">
      <tr><th colspan=2>Throws</th></tr>
        <tr>
          <td><code>IOException</code></td>
          <td width="100%"></td>
        </tr>
      </table>
  

</div>





<!-- ========= METHOD DETAIL ======== -->



<!-- ========= END OF CLASS DATA ========= -->

</div><!-- end jd-content -->



<div class="data-reference-resources-wrapper">
  
  <ul data-reference-resources>
    
    
    <li><h2>Interfaces</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ILeveledLogOutput.html">ILeveledLogOutput</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ILogRegistry.html">ILogRegistry</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ITerribleFailureHandler.html">ITerribleFailureHandler</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ITestLogger.html">ITestLogger</a></li>
      </ul>
    </li>
    
    <li><h2>Classes</h2>
      <ul>
          <li class="selected api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ConsoleReaderOutputStream.html">ConsoleReaderOutputStream</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/FileLogger.html">FileLogger</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/HistoryLogger.html">HistoryLogger</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/LogReceiver.html">LogReceiver</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/LogRegistry.html">LogRegistry</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/LogUtil.html">LogUtil</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/LogUtil.CLog.html">LogUtil.CLog</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/StdoutLogger.html">StdoutLogger</a></li>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/TerribleFailureEmailHandler.html">TerribleFailureEmailHandler</a></li>
      </ul>
    </li>
    
    <li><h2>Enums</h2>
      <ul>
          <li class="api apilevel-"><a href="../../../../../../reference/tradefed/com/android/tradefed/log/ILogRegistry.EventType.html">ILogRegistry.EventType</a></li>
      </ul>
    </li>
    
    
  </ul>
  
</div>



</body>
</html>
