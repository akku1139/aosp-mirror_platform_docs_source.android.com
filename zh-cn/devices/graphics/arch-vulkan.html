<html devsite><head>
    <title>Vulkan</title>
    <meta name="project_path" value="/_project.yaml"/>
    <meta name="book_path" value="/_book.yaml"/>
  </head>
  <body>

  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>Android 支持 <a href="https://www.khronos.org/vulkan/" class="external">Vulkan</a>，这是一套适用于高性能 3D 图形的低开销、跨平台 API。与 OpenGL ES (GLES) 一样，Vulkan 提供用于在应用中创建高品质实时图形的工具。使用 Vulkan 的优势包括降低 CPU 开销以及支持 <a href="https://www.khronos.org/spir" class="external">SPIR-V 二进制中间</a>语言。</p>

<p>系统芯片 (SoC) 供应商（例如 GPU 独立硬件供应商 (IHV)）可以编写适用于 Android 的 Vulkan 驱动程序。原始设备制造商 (OEM) 只需为特定设备集成这些驱动程序即可。如需详细了解 Vulkan 驱动程序如何与系统进行交互、应如何安装特定于 GPU 的工具以及特定于 Android 的要求，请参阅<a href="/devices/graphics/implement-vulkan">实现 Vulkan</a>。</p>

<p>应用开发者可以使用 Vulkan 来打造在 GPU 上执行命令的应用，大幅降低开销。与 EGL 和 GLES 相比，Vulkan 还可以更直接地映射到当前图形硬件中的功能，最大限度地降低驱动程序的出错概率，并减少开发者的测试时间。</p>

<p>如需了解 Vulkan 的常规信息，请参阅 <a href="http://khr.io/vulkanlaunchoverview" class="external">Vulkan 概览</a>或查看<a href="#resources">资源</a>列表。</p>

<h2 id="vulkan_components">Vulkan 组件</h2>
<p>对 Vulkan 的支持包含以下组件。</p>
<p><img src="/devices/graphics/images/ape_graphics_vulkan.png" alt="Vulkan 组件"/></p>
<p class="img-caption"><strong>图 1.</strong> Vulkan 组件</p>

<table>
  <tbody><tr>
    <th>组件名称</th>
    <th>提供者</th>
    <th>说明</th>
  </tr>
  <tr>
    <td>Vulkan 验证层</td>
    <td>Android（在 NDK 中）</td>
    <td>在 Vulkan 应用开发期间使用的库，用于查找应用在 Vulkan API 的使用方面的错误。在找出此类错误后，应移除这些库。</td>
  </tr>
  <tr>
    <td>Vulkan 运行时</td>
    <td>Android</td>
    <td>原生库 (<code>libvulkan.so</code>) 提供原生 Vulkan API。<br /><br />Vulkan 运行时的大部分功能由 GPU 供应商提供的驱动程序实现。Vulkan 运行时会封装驱动程序、提供 API 拦截功能（针对调试和其他开发者工具）以及管理驱动程序与平台依赖项之间的交互。</td>
  </tr>
  <tr>
    <td>Vulkan 驱动程序</td>
    <td>SoC</td>
    <td>将 Vulkan API 映射到特定于硬件的 GPU 命令以及与内核图形驱动程序的交互。</td>
  </tr>
</tbody></table>

<h2 id="modified_components">有修改的组件</h2>
<p>BufferQueue 和 Gralloc 支持 Vulkan：</p>

<ul>
<li><strong>BufferQueue。</strong> BufferQueue 中的额外枚举值和方法以及 <code>ANativeWindow</code> 接口可让 Vulkan 运行时通过 <code>ANativeWindow</code> 连接到 BufferQueue。</li>
<li><strong>Gralloc。</strong> 可选接口。通过它，Gralloc 可以了解是否能够将某种指定格式用于特定生产方/消费方组合，而无需分配缓冲区。</li>
</ul>

<p>如需详细了解这些组件，请参阅 <a href="/devices/graphics/arch-bq-gralloc">BufferQueue 和 gralloc</a>。如需详细了解 <code>ANativeWindow</code>，请参阅 <a href="/devices/graphics/arch-egl-opengl">EGLSurfaces 和 OpenGL ES</a>。

</p><h2 id="resources">资源</h2>
<p>通过以下资源详细了解 Vulkan：</p>
<ul>

<li>
位于 <code>platform/frameworks/native/vulkan</code> 的 <a href="https://android.googlesource.com/platform/frameworks/native/+/master/vulkan/#" class="external">Vulkan 加载程序</a> (<code>libvulkan.so</code>)。其中包含 Android 的 Vulkan 加载程序，以及一些对平台开发者十分有用的 Vulkan 相关工具。</li>

<li><a href="/devices/graphics/implement-vulkan">实现 Vulkan</a>。旨在帮助 GPU IHV 编写适用于 Android 的 Vulkan 驱动程序，以及指导原始设备制造商 (OEM) 为特定设备集成这些驱动程序。该指南介绍了 Vulkan 驱动程序如何与系统进行交互、应该如何安装特定于 GPU 的工具以及特定于 Android 的实现要求。</li>

<li><a href="https://developer.android.com/ndk/guides/graphics/index.html" class="external">Vulkan Graphics API 指南</a>。介绍了如何开始在 Android 应用中使用 Vulkan、Android 平台上的 Vulkan 设计指南、如何使用 Vulkan 的着色程序编译器以及如何使用验证层来帮助确保使用 Vulkan 的应用的稳定性。</li>

<li><a href="https://www.khronos.org/#slider_vulkan" class="external">Vulkan 新闻</a>：包含事件、补丁程序、教程以及更多与 Vulkan 相关的新闻报道。</li>
</ul>

</body></html>