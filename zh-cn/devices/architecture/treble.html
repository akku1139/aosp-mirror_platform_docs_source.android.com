<html devsite><head>
    <title>Treble</title>
    <meta name="project_path" value="/_project.yaml"/>
    <meta name="book_path" value="/_book.yaml"/>
  </head>
  <body>
  <!--
      Copyright 2017 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>即将推出的 Android O 版本新增了 Project Treble，这是 Android 操作系统框架对架构进行的一项重大改变，旨在让制造商以更低的成本更轻松、更快速地将设备更新到新版 Android 系统。</p>

<h2 id="about-treble">Android 更新</h2>
<p>Project Treble 通过新的供应商接口将供应商实现（由芯片制造商编写的设备专属底层软件）与 Android 操作系统框架分开。</p>

<p>Android 7.x 及更早版本中没有正式的供应商接口，因此设备制造商必须更新大量 Android 代码才能将设备更新到新版 Android 系统：</p>

<img src="images/treble_blog_before.png"/>

<p class="img-caption"><strong>图 1.</strong> Treble 推出前的 Android 更新环境</p>

<p>Treble 提供了一个稳定的新供应商接口，供设备制造商访问 Android 代码中特定于硬件的部分，这样一来，设备制造商只需更新 Android 操作系统框架，即可跳过芯片制造商直接提供新的 Android 版本：</p>

<img src="images/treble_blog_after.png"/>

<p class="img-caption"><strong>图 2.</strong> Treble 推出后的 Android 更新环境</p>

<h2 id="testing-treble">对 Treble 进行测试</h2>
<p>为了确保供应商实现的前向兼容性，可以使用供应商测试套件 (VTS) 对新的供应商接口进行验证，该套件类似于<a href="/compatibility/cts/">兼容性测试套件 (CTS)</a>。已经发布的 VTS 可以自动执行 HAL 和操作系统内核测试，即便是 Treble 推出前的环境也适用；有关详细信息，请参阅<a href="/devices/tech/test_infra/tradefed/fundamentals/vts">使用 VTS 进行系统测试</a>一文。</p>

<h2 id="launching-treble">即将推出</h2>
<p>Project Treble 即将登陆搭载 Android O 及后续版本的所有新设备，不过，这种新的架构已经在 Pixel 手机的 O 开发者预览版中投入使用。在发布 Android O 时，我们将提供完整详情（届时请访问 <a href="https://source.android.com/">source.android.com</a>）。在过渡期间，如需详细了解 Treble，请参阅 <a href="https://android-developers.googleblog.com/2017/05/here-comes-treble-modular-base-for.html">Android 开发者博客</a>。</p>

</body></html>