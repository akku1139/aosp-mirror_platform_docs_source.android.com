<html devsite><head>
    <title>模块化系统组件</title>
    <meta name="project_path" value="/_project.yaml"/>
    <meta name="book_path" value="/_book.yaml"/>
  </head>
  <body>

  <!--
      Copyright 2019 The Android Open Source Project

      Licensed under the Apache License, Version 2.0 (the "License");
      you may not use this file except in compliance with the License.
      You may obtain a copy of the License at

          http://www.apache.org/licenses/LICENSE-2.0

      Unless required by applicable law or agreed to in writing, software
      distributed under the License is distributed on an "AS IS" BASIS,
      WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
      See the License for the specific language governing permissions and
      limitations under the License.
  -->

<p>Android 10 对某些 Android 系统组件进行了模块化处理，使其能够在正常的 Android 发布周期之外进行更新。最终用户设备可以从 Google Play 商店基础架构或通过合作伙伴提供的无线下载 (OTA) 机制接收这些模块化系统组件的更新。
</p>

<h2 id="about-modular-system-components">关于模块化系统组件</h2>

<p>利用模块化系统组件，Google 和 Android 合作伙伴能够以非侵入方式广泛、快速、无缝地向最终用户设备分发更新。例如，媒体编解码器碎片和严重错误可能会显著降低应用的采用率和用户互动度。频繁更新媒体相关模块可以减少编解码器碎片，以使媒体应用在不同 Android 设备上的行为更加一致，并且可以修复严重错误，以建立用户信任。
</p>

<h2 id="architecture">架构</h2>

<p>Android 10 会将选定的系统组件转换为模块，其中一些模块采用 <a href="/devices/tech/ota/apex">APEX 容器格式</a>（在 Android 10 中引入），另一些则采用 APK 格式。<em></em>借助模块化架构，系统组件能够根据需要以修复严重问题以及做出其他改进的方式进行更新，而不会影响较低级别的供应商实现或较高级别的应用和服务。
</p>

<figure>
  <img src="/devices/architecture/images/modular_system_components_arch.png"/>
  <figcaption>
    <strong>图 1. </strong> 模块化系统组件</figcaption>
</figure>

<p>模块更新不会引入新的 API。它们仅使用由<a href="/compatibility/tests">兼容性测试套件 (CTS)</a> 保证的 SDK 和系统 API，并且只会彼此之间进行通信，且只使用稳定的 C API 或<a href="/devices/bootloader/stable-aidl">稳定的 AIDL 接口</a>。
</p>

<p>您可以将更新后的模块化系统组件打包在一起，并通过 Google（使用 Google Play 商店基础架构）或 Android 合作伙伴（使用合作伙伴提供的 OTA 机制）将其推送到最终用户设备。模块软件包会以原子方式安装（和回滚），这意味着所有需要更新的模块都会进行更新，或者所有模块都不会进行更新。<em></em>例如，如果某个需要更新的模块出于某种原因无法更新，则设备不会安装软件包中的任何模块。
</p>

<h2 id="available-modules">可用模块</h2>

<p>Android 10 包含以下模块。
</p>

<table>
  <tbody>
    <tr>
      <th>模块名称</th>
      <th>软件包名称</th>
      <th>类型</th>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/runtime">Runtime</a></p>
      </td>
      <td>
      <p>com.android.runtime.release.apex</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/networking">Captive Portal Login</a></p>
      </td>
      <td>
      <p>com.android.captiveportallogin</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/conscrypt">Conscrypt</a>
      </p>
      </td>
      <td>
      <p>com.android.conscrypt</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/dns-resolver">DNS Resolver</a></p>
      </td>
      <td>
      <p>com.android.resolv</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/documentsui">DocumentsUI</a>
      </p>
      </td>
      <td>
      <p>com.android.documentsui</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/extservices">ExtServices</a>
      </p>
      </td>
      <td>
      <p>com.android.ext.services</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/media">Media Codecs</a></p>
      </td>
      <td>
      <p>com.android.media.swcodec</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/media">Media Extractors and MediaPlayer2</a></p>
      </td>
      <td>
      <p>com.android.media</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/metadata">ModuleMetadata</a>
      </p>
      </td>
      <td>
      <p>com.android.modulemetadata</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/networking">Network Stack Permission Configuration</a></p>
      </td>
      <td>
      <p>com.android.networkstack.permissionconfig</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/networking">Network Components</a></p>
      </td>
      <td>
      <p>com.android.networkstack</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p>
      <a href="/devices/architecture/modular-system/permissioncontroller">PermissionController</a>
      </p>
      </td>
      <td>
      <p>com.android.permissioncontroller</p>
      </td>
      <td>
      <p>APK</p>
      </td>
    </tr>
    <tr>
      <td>
      <p><a href="/devices/architecture/modular-system/timezone">Time Zone Data</a></p>
      </td>
      <td>
      <p>com.android.tzdata</p>
      </td>
      <td>
      <p>APEX</p>
      </td>
    </tr>
  </tbody>
</table>

</body></html>