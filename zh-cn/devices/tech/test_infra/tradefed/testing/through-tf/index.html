<html devsite><head>

  <meta name="book_path" value="/_book.yaml"/>

  <meta name="project_path" value="/_project.yaml"/>
</head>
<body>

<!--
  Copyright 2019 The Android Open Source Project

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<h1 id="test_through_tradefed" class="page-title">通过 Tradefed 测试</h1>

<p>Tradefed 中测试的执行由测试运行程序来执行，这些测试运行程序允许控制 Android 设备以执行必要的测试步骤。<em></em><em></em></p>

<h2 id="1_write_a_new_test_runner">1. 编写新的测试运行程序</h2>

<p>在这里，您将学习关于编写新 Tradefed 测试运行程序的基础知识。如果您计划支持全新类型的测试，并且需要从头开发新的运行程序，这会特别有用。</p>

<p>有关说明，请参阅<a href="new-test-runner">编写 Tradefed 测试运行程序</a>。</p>

<h2 id="2_write_a_shardable_test_runner">2. 编写可分片测试运行程序</h2>

<p>您还可以学习如何使您的测试运行程序可分片。可分片测试运行程序允许基础架构将完整的测试执行分布在多个设备上（并置或不并置）。当测试语料库很大并且您希望并行化执行和加速完成时，这会很有用。</p>

<p>有关步骤，请参阅<a href="sharded-runner">编写可分片的 IRemoteTest 测试运行程序</a>。</p>

<h2 id="3_write_a_host-driven_test">3. 编写主机驱动的测试</h2>

<p>主机驱动的测试是一种常见的用例，在这种用例中，测试执行从主机端驱动，并根据测试的需要查询设备。当测试所需的设备操作影响设备状态本身时（例如重新启动设备），这会很有用。</p>

<p>测试运行程序类型可以在 Tradefed 中使用，也可以在通过套件运行测试时使用。</p>

<p>有关说明，请参阅<a href="host-driven-test">在 Trade Federation 中编写主机驱动的测试</a>。</p>

<h2 id="4_report_metrics_from_tests">4. 报告测试中的指标</h2>

<p>除了执行结果之外，测试还会报告指标，这种情况十分常见。报告指标的方法有几种，具体采用哪种方法取决于测试运行程序。</p>

<p>有关示例，请参阅<a href="report-metrics">报告 Tradefed 测试中的指标或数据</a>。</p>

<h2 id="5_automated_log_collection">5. 自动日志收集</h2>

<p>某些日志通常用于调试问题，例如：Logcat。因此，Tradefed 提供了一种自动机制以轻松地收集这些日志。</p>

<p>要了解如何使用，请参阅<a href="log-on-failure">自动收集关于失败测试的日志</a>。</p>

<h2 id="6_automatic_test_retry">6. 自动重新运行测试</h2>

<p>您可以让 Tradefed 自动重试失败的测试或迭代地多次运行某些测试。</p>

<p>如需了解详情，请参阅<a href="auto-retry">自动重新运行测试</a>。</p>

</body></html>