<html devsite><head>

  <meta name="book_path" value="/_book.yaml"/>

  <meta name="project_path" value="/_project.yaml"/>
</head>
<body>

<!--
  Copyright 2019 The Android Open Source Project

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<h1 id="running_instrumentation_tests_from_existing_apks" class="page-title">借助现有 APK 运行插桩测试</h1>

<p>这些说明假设您本地有 <code>Trade Federation</code> 软件包；如果没有，请<a href="/devices/tech/test_infra/tradefed/fundamentals/machine_setup#download-tradefed">按照下载说明</a>获取该软件包。</p>

<p>然后使用以下命令安装插桩测试的 APK，执行测试，并显示正在运行的测试：</p>
<pre class="prettyprint lang-shell"><code>./tradefed.sh run instrumentations --apk-path &lt;path of your apk&gt;
</code></pre>
<p>输出信息类似以下内容：</p>
<pre class="prettyprint lang-shell"><code>07-17 10:55:32 D/InvocationToJUnitResultForwarder: Starting test: android.animation.cts.ValueAnimatorTest#testOfArgb
07-17 10:55:33 D/InvocationToJUnitResultForwarder: Starting test: android.animation.cts.ValueAnimatorTest#testIsRunning
07-17 10:55:34 D/InvocationToJUnitResultForwarder: Starting test: android.animation.cts.ValueAnimatorTest#testGetCurrentPlayTime
07-17 10:55:35 D/InvocationToJUnitResultForwarder: Starting test: android.animation.cts.ValueAnimatorTest#testStartDelay
07-17 10:55:35 I/InvocationToJUnitResultForwarder: Run ended in 2m 20s
</code></pre>
<p>（可选）您可以指定 <code>--serial &lt;device serial number&gt;</code> 来针对给定设备运行插桩测试。设备序列号可使用 <code>adb devices</code> 来获取。</p>

<p>如需详细了解 Tradefed 的执行情况，请参阅<a href="/devices/tech/test_infra/tradefed/testing/through-tf">“通过 Tradefed 进行测试”部分</a>。</p>

</body></html>