<html devsite><head>

  <meta name="book_path" value="/_book.yaml"/>

  <meta name="project_path" value="/_project.yaml"/>
</head>
<body>

<!--
  Copyright 2019 The Android Open Source Project

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<h1 id="trade_federation_console" class="page-title">Trade Federation 控制台</h1>

<p>Trade Federation 控制台是一种可选组件；借助该组件，您可以检查 Trade Federation 的状态及其看到的内容（从设备状态到当前正在进行的测试）。</p>

<p>它是监控大量并行运行的测试以及了解每个测试的进度情况的绝佳工具。</p>

<h2 id="reaching_the_console">转到控制台</h2>

<p>编译 TradeFed 后，即可从您的路径访问 <code>tradefed.sh</code> 启动器脚本；默认情况下，该操作会将您转到控制台。</p>

<p>控制台会使用 <code>tf &gt;</code> 提示符来展示自己。</p>

<h2 id="what_can_the_console_do">控制台可以做什么？</h2>

<p>控制台的 <code>help</code> 始终会列出最新信息。它的一些有趣的功能包括：</p>

<ul>
<li>列出设备以及 Tradefed 如何查看其状态：<code>list devices</code></li>
<li>列出当前正在运行的调用及其元数据：<code>list invocations</code></li>
<li>获取所有正在运行的调用和 Tradefed 的日志：<code>dump logs</code></li>
</ul>

<p>借助控制台，您可以通过查询在其他位置不会一起显示的一些状态来调试 Tradefed 和设备中发生的情况。</p>

<h2 id="how_to_avoid_the_console">如何避免启动控制台？</h2>

<p>在某些情况下，我们不需要使用控制台，例如在运行一次性命令时。</p>

<p>在这种情况下，可以将 <code>commandAndExit</code>添加到 <code>tradefed.sh</code> 启动程序脚本命令中，以防止启动控制台。当尝试将 Tradefed 作为脚本的一部分运行或直接传输其输出时，需要使用该额外参数。在从脚本运行 Tradefed 时启用控制台将触发不一致的行为，并可能导致出现多个问题。</p>
<pre class="prettyprint lang-shell"><code>tradefed.sh run commandAndExit &lt;usual command&gt;
</code></pre>
<h2 id="console_autocompletion">控制台自动填充功能</h2>

<p>控制台提供基本的配置名称自动填充功能。</p>
<pre class="prettyprint lang-shell"><code>tf &gt; run &lt;hit TAB&gt;
result in:
Display all 167 possibilities? (y or n)
</code></pre>
<p>通过在 <code>run</code> 后点击 TAB，您可以获取可用配置的完整列表。如果您已输入部分名称，控制台便会输出所有可能的名称。</p>
<pre class="prettyprint lang-shell"><code>tf &gt;run tf/&lt;HIT TAB&gt;

tf/acceptance            tf/fake                  tf/func
tf/stress                tf/uiautomator           tf/unit-runner
tf &gt;run tf/
</code></pre>
<p>当您不记得确切的配置名称时，该功能非常有用。</p>

</body></html>