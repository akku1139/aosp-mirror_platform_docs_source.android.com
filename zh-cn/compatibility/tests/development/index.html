<html devsite><head>

  <meta name="book_path" value="/_book.yaml"/>

  <meta name="project_path" value="/_project.yaml"/>
</head>
<body>

<!--
  Copyright 2018 The Android Open Source Project

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<h1 id="test_development_workflow" class="page-title">测试开发工作流</h1>

<p>要将测试集成到平台连续测试服务，它们应该符合以下准则。</p>

<h2 id="test_types">测试类型</h2>

<p>支持的测试类型包括：</p>

<ul>
<li>标准<a href="https://developer.android.com/studio/test/">插桩</a>测试<ul>
<li>支持功能测试和指标测试</li>
</ul></li>
<li>原生测试<ul>
<li>功能：<a href="https://github.com/google/googletest">gtest</a> 框架</li>
<li>指标：使用 <a href="https://github.com/google/benchmark">google-benchmark</a> 进行原生基准测试</li>
</ul></li>
<li><a href="https://android.googlesource.com/platform/tools/tradefederation/+/master/src/com/android/tradefed/testtype/AndroidJUnitTest.java">主机 Java (Junit) 测试</a></li>
</ul>

<p>功能测试对测试用例进行通过或未通过测试的断言，而指标测试通常重复执行操作以收集时间指标。</p>

<p>采用标准化的输入/输出格式后，不再需要对每个测试进行自定义结果解析和后处理，并且通用自动化测试框架可用于符合惯例的所有测试。</p>

<h2 id="test_case_guidelines">测试用例准则</h2>

<p>通过连续测试服务执行的测试用例应该是<strong>封闭</strong>测试：</p>

<ul>
<li>无 Google 帐号登录</li>
<li>无连接设置（电话/WLAN/蓝牙/NFC）</li>
<li>不传入测试参数</li>
<li>自动化测试框架不对特定的测试用例执行设置或拆解</li>
</ul>

<h2 id="building_tests">编译测试</h2>

<p>如果您不熟悉添加和执行测试的工作流，请参阅：</p>

<ul>
<li><a href="/compatibility/tests/development/instrumentation.md">插桩测试</a>（支持功能测试和指标测试）</li>
<li><a href="/compatibility/tests/development/native.md">原生测试</a></li>
<li><a href="/compatibility/tests/development/metrics.md">原生指标测试</a></li>
</ul>

</body></html>