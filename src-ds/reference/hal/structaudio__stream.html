<!DOCTYPE html>
<html devsite>
<head>
  <title>Android Hardware Abstraction Layer: audio_stream Struct Reference</title>
  <meta name="project_path" value="/_project.yaml" />
  <meta name="book_path" value="/_book.yaml" />
  <meta name="hide_page_heading" value="true" />
</head>
<body>
  <div id="top"><!-- do not remove this div --></div>
  <h1><div class="title">audio_stream Struct Reference</div></h1>

<div id="doc-content">
<div class="header">
 <div class="summary">
  <a href="#pub-attribs">
   Data Fields
  </a>
 </div>
 <div class="headertitle">
  <div class="title">
   audio_stream Struct Reference
  </div>
 </div>
</div>
<!--header-->
<div class="contents">
 <p>
  <code>
   #include &lt;
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
   &gt;
  </code>
 </p>
 <table class="memberdecls">
  <tr class="heading">
   <td colspan="2">
    <h2 class="groupheader">
     <a name="pub-attribs">
     </a>
     Data Fields
    </h2>
   </td>
  </tr>
  <tr class="memitem:ad4c65f134de6c07b202939d8e4f4751e">
   <td class="memItemLeft" align="right" valign="top">
    uint32_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#ad4c65f134de6c07b202939d8e4f4751e">
     get_sample_rate
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:ad4c65f134de6c07b202939d8e4f4751e">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ab47d567ca419ecebdc1358d2b95fb4b9">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#ab47d567ca419ecebdc1358d2b95fb4b9">
     set_sample_rate
    </a>
    )(struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, uint32_t rate)
   </td>
  </tr>
  <tr class="separator:ab47d567ca419ecebdc1358d2b95fb4b9">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a50d4f5569f1ba844ba01a5ce4f694d57">
   <td class="memItemLeft" align="right" valign="top">
    size_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a50d4f5569f1ba844ba01a5ce4f694d57">
     get_buffer_size
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:a50d4f5569f1ba844ba01a5ce4f694d57">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a90bb4269cff23d0b6b74783d42f6bf39">
   <td class="memItemLeft" align="right" valign="top">
    audio_channel_mask_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a90bb4269cff23d0b6b74783d42f6bf39">
     get_channels
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:a90bb4269cff23d0b6b74783d42f6bf39">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a6b39f78b9c0e9a2c5b073eaf35e1a5c9">
   <td class="memItemLeft" align="right" valign="top">
    audio_format_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a6b39f78b9c0e9a2c5b073eaf35e1a5c9">
     get_format
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:a6b39f78b9c0e9a2c5b073eaf35e1a5c9">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a5db7fd77d4f98f847181568784c97bdd">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a5db7fd77d4f98f847181568784c97bdd">
     set_format
    </a>
    )(struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, audio_format_t format)
   </td>
  </tr>
  <tr class="separator:a5db7fd77d4f98f847181568784c97bdd">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a149b52eef6dc39dbac7565d02111ab4a">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a149b52eef6dc39dbac7565d02111ab4a">
     standby
    </a>
    )(struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:a149b52eef6dc39dbac7565d02111ab4a">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ab072ba6e899c2ab94d9794c0273b0458">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#ab072ba6e899c2ab94d9794c0273b0458">
     dump
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, int fd)
   </td>
  </tr>
  <tr class="separator:ab072ba6e899c2ab94d9794c0273b0458">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a2cc479fef37e1bb18761d20c3583f690">
   <td class="memItemLeft" align="right" valign="top">
    audio_devices_t(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a2cc479fef37e1bb18761d20c3583f690">
     get_device
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream)
   </td>
  </tr>
  <tr class="separator:a2cc479fef37e1bb18761d20c3583f690">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:afdabff5a3adee1a4699f5b3e1ec3d101">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#afdabff5a3adee1a4699f5b3e1ec3d101">
     set_device
    </a>
    )(struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, audio_devices_t device)
   </td>
  </tr>
  <tr class="separator:afdabff5a3adee1a4699f5b3e1ec3d101">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ab9638bd815cb2265ef84054a1c4c18d5">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#ab9638bd815cb2265ef84054a1c4c18d5">
     set_parameters
    </a>
    )(struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, const char *kv_pairs)
   </td>
  </tr>
  <tr class="separator:ab9638bd815cb2265ef84054a1c4c18d5">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a3bda012adcec60d19ca5086808bcf37b">
   <td class="memItemLeft" align="right" valign="top">
    char *(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a3bda012adcec60d19ca5086808bcf37b">
     get_parameters
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream, const char *keys)
   </td>
  </tr>
  <tr class="separator:a3bda012adcec60d19ca5086808bcf37b">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:ababc0a3787df666b839469fa4a22699a">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#ababc0a3787df666b839469fa4a22699a">
     add_audio_effect
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio_effect.h">
     effect_handle_t
    </a>
    effect)
   </td>
  </tr>
  <tr class="separator:ababc0a3787df666b839469fa4a22699a">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
  <tr class="memitem:a0a70ca81849391659e7748cb7da4c7ac">
   <td class="memItemLeft" align="right" valign="top">
    int(*&#160;
   </td>
   <td class="memItemRight" valign="bottom">
    <a class="el" href="structaudio__stream.html#a0a70ca81849391659e7748cb7da4c7ac">
     remove_audio_effect
    </a>
    )(const struct
    <a class="el" href="structaudio__stream.html">
     audio_stream
    </a>
    *stream,
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio_effect.h">
     effect_handle_t
    </a>
    effect)
   </td>
  </tr>
  <tr class="separator:a0a70ca81849391659e7748cb7da4c7ac">
   <td class="memSeparator" colspan="2">
    &#160;
   </td>
  </tr>
 </table>
 <a name="details" id="details">
 </a>
 <h2 class="groupheader">
  Detailed Description
 </h2>
 <div class="textblock">
  <p>
   Definition at line
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    170
   </a>
   of file
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
   .
  </p>
 </div>
 <h2 class="groupheader">
  Field Documentation
 </h2>
 <a class="anchor" id="ababc0a3787df666b839469fa4a22699a">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* add_audio_effect)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio_effect.h">
       effect_handle_t
      </a>
      effect)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     246
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ab072ba6e899c2ab94d9794c0273b0458">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* dump)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, int fd)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    dump the state of the audio input/output device
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     212
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a50d4f5569f1ba844ba01a5ce4f694d57">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      size_t(* get_buffer_size)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return size of input/output buffer in bytes for this stream - eg. 4800. It should be a multiple of the frame size. See also get_input_buffer_size.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     186
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a90bb4269cff23d0b6b74783d42f6bf39">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      audio_channel_mask_t(* get_channels)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return the channel mask - e.g. AUDIO_CHANNEL_OUT_STEREO or AUDIO_CHANNEL_IN_STEREO
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     192
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a2cc479fef37e1bb18761d20c3583f690">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      audio_devices_t(* get_device)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return the set of device(s) which this stream is connected to
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     215
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a6b39f78b9c0e9a2c5b073eaf35e1a5c9">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      audio_format_t(* get_format)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return the audio format - e.g. AUDIO_FORMAT_PCM_16_BIT
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     197
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a3bda012adcec60d19ca5086808bcf37b">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      char*(* get_parameters)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, const char *keys)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     244
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ad4c65f134de6c07b202939d8e4f4751e">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      uint32_t(* get_sample_rate)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Return the sampling rate in Hz - eg. 44100.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     175
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a0a70ca81849391659e7748cb7da4c7ac">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* remove_audio_effect)(const struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream,
      <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio_effect.h">
       effect_handle_t
      </a>
      effect)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     248
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="afdabff5a3adee1a4699f5b3e1ec3d101">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set_device)(struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, audio_devices_t device)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Currently unused -
    <a class="el" href="structaudio__stream.html#afdabff5a3adee1a4699f5b3e1ec3d101">
     set_device()
    </a>
    corresponds to
    <a class="el" href="structaudio__stream.html#ab9638bd815cb2265ef84054a1c4c18d5">
     set_parameters()
    </a>
    with key AUDIO_PARAMETER_STREAM_ROUTING for both input and output. AUDIO_PARAMETER_STREAM_INPUT_SOURCE is an additional information used by input streams only.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     223
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a5db7fd77d4f98f847181568784c97bdd">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set_format)(struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, audio_format_t format)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     202
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ab9638bd815cb2265ef84054a1c4c18d5">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set_parameters)(struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, const char *kv_pairs)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    set/get audio stream parameters. The function accepts a list of parameter key value pairs in the form: key1=value1;key2=value2;...
   </p>
   <p>
    Some keys are reserved for standard parameters (See AudioParameter class)
   </p>
   <p>
    If the implementation does not accept a parameter change while the output is active but the parameter is acceptable otherwise, it must return -ENOSYS.
   </p>
   <p>
    The audio flinger will put the stream in standby and then change the parameter value.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     238
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="ab47d567ca419ecebdc1358d2b95fb4b9">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* set_sample_rate)(struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream, uint32_t rate)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     180
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <a class="anchor" id="a149b52eef6dc39dbac7565d02111ab4a">
 </a>
 <div class="memitem">
  <div class="memproto">
   <table class="memname">
    <tr>
     <td class="memname">
      int(* standby)(struct
      <a class="el" href="structaudio__stream.html">
       audio_stream
      </a>
      *stream)
     </td>
    </tr>
   </table>
  </div>
  <div class="memdoc">
   <p>
    Put the audio hardware input/output into standby mode. Driver should exit from standby mode at the next I/O operation. Returns 0 on success and &lt;0 on failure.
   </p>
   <p>
    Definition at line
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     209
    </a>
    of file
    <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
     audio.h
    </a>
    .
   </p>
  </div>
 </div>
 <hr />
 The documentation for this struct was generated from the following file:
 <ul>
  <li>
   hardware/libhardware/include/hardware/
   <a class="el" href="https://android.googlesource.com/platform/hardware/libhardware/+/master/include/hardware/audio.h">
    audio.h
   </a>
  </li>
 </ul>
</div>
<!-- contents -->
</div>

</body>
</html>
